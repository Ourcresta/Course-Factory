You are a Senior Database Architect, SaaS Platform Designer, and Security Engineer.

PROJECT NAME: OurShiksha – ADMIN PLATFORM

GOAL:
Design and optimize the ADMIN schema database for OurShiksha.
This schema will power all administrative, governance, course factory, approvals, audits, and control systems.
The Admin schema must work in the SAME PostgreSQL database as Shishya and Main Site, without data duplication.

IMPORTANT RULES:
1. Use ONE PostgreSQL database only (ourshiksha_db)
2. Use SCHEMA-BASED separation (admin schema only)
3. Admin schema must CONTROL but not DUPLICATE student data
4. Admin schema must be secure, auditable, and role-driven
5. Design must be scalable for enterprise usage
6. Admin schema must support AI-assisted operations
7. No student activity data should be stored here (read-only access via joins/views)

--------------------------------------------------
DATABASE CONTEXT
--------------------------------------------------

DATABASE NAME:
ourshiksha_db

SCHEMA TO DESIGN:
admin

RELATED SCHEMAS (REFERENCE ONLY – DO NOT REDESIGN):
auth
courses
shishya
rewards
ai_engine
certification
analytics
audit

--------------------------------------------------
CORE RESPONSIBILITIES OF ADMIN SCHEMA
--------------------------------------------------

1. ADMIN IDENTITY & ACCESS CONTROL
- Admin users
- Roles & permissions
- Approval workflows
- Security controls

2. COURSE FACTORY & GOVERNANCE
- Course creation lifecycle
- Publish / unpublish controls
- Versioning
- Quality checks

3. CONTENT & POLICY MANAGEMENT
- Platform rules
- Pricing & credit policies
- Scholarship governance
- Motivation rule approvals

4. AI SUPERVISION
- AI rule approval
- AI model metadata
- AI activity oversight

5. AUDIT & COMPLIANCE
- All admin actions must be traceable
- Legal & academic trust enforcement

--------------------------------------------------
TABLES TO DESIGN / REDESIGN (ADMIN SCHEMA)
--------------------------------------------------

ADMIN IDENTITY & SECURITY
- admin_users
- admin_roles
- admin_permissions
- admin_role_mappings
- admin_sessions
- admin_security_logs

APPROVAL & WORKFLOWS
- approval_requests
- approval_steps
- approval_actions
- approval_templates

COURSE FACTORY CONTROL (LINKED TO courses schema)
- course_drafts
- course_versions
- course_publish_history
- course_quality_checks

PLATFORM POLICIES & CONFIG
- platform_settings
- credit_policies
- scholarship_policies
- certificate_policies
- pricing_rules

AI GOVERNANCE (LINKED TO ai_engine schema)
- ai_rule_registry
- ai_rule_approvals
- ai_model_registry
- ai_model_audit_logs

REWARDS & ECONOMY CONTROL (LINKED TO rewards schema)
- reward_rule_definitions
- reward_budget_limits
- reward_approvals

CERTIFICATION & ACADEMIC CONTROL
- certificate_templates
- marksheet_templates
- signer_registry
- academic_authorities

AUDIT & MONITORING
- admin_activity_logs
- data_access_logs
- escalation_logs

--------------------------------------------------
DESIGN OUTPUT EXPECTATIONS
--------------------------------------------------

For EACH table provide:
1. Table purpose
2. Columns with PostgreSQL data types
3. Primary key
4. Foreign keys (with schema references)
5. Index strategy
6. Soft delete strategy
7. Retention / archival recommendation

--------------------------------------------------
ADVANCED REQUIREMENTS
--------------------------------------------------

1. CREATE ADMIN VIEWS
- admin_dashboard_kpi_view
- platform_health_view
- ai_governance_overview
- course_factory_status_view

2. MATERIALIZED VIEWS
- monthly_platform_metrics
- admin_action_summary

3. SECURITY
- Strict RBAC enforcement
- No direct DELETEs (soft delete only)
- Mandatory audit logging via triggers
- Separation between super_admin and admin

4. PERFORMANCE
- Index all foreign keys
- Partition logs by date
- Use JSONB only for dynamic policies
- Avoid joins on hot paths

5. NAMING CONVENTION
- snake_case
- descriptive names
- no abbreviations
- consistent timestamps (created_at, updated_at)

--------------------------------------------------
DELIVERABLES
--------------------------------------------------

1. Admin schema architecture explanation
2. Text-based ER diagram
3. PostgreSQL DDL (CREATE TABLE)
4. Index creation SQL
5. Role & permission SQL
6. Audit trigger examples
7. Explanation of security & compliance readiness

--------------------------------------------------
QUALITY BAR
--------------------------------------------------

Design this as if:
- Platform will host universities & enterprises
- Legal audits are possible
- AI decisions must be explainable
- Admin actions must be non-repudiable
- System must run 5–10 years without redesign

DO NOT:
- Create student progress tables
- Duplicate Shishya data
- Use multiple databases
- Ignore auditability

START WITH:
1. High-level Admin schema philosophy
2. Admin responsibilities mapping
3. Detailed table-by-table design
4. SQL implementation

This is a REAL production Admin system, not a demo.
